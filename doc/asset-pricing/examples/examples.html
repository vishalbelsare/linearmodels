

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Examples &#8212; linearmodels 2.0+64.gce5bead documentation</title>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0+64.gce5bead',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Module Reference" href="../reference.html" />
    <link rel="prev" title="Linear Factor Models for Asset Pricing" href="../index.html" />
  
  
   

  <link rel="stylesheet" href="../../_static/css/overrides.css" type="text/css" />

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../reference.html" title="Module Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Linear Factor Models for Asset Pricing"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">linearmodels 2.0+64.gce5bead documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Linear Factor Models for Asset Pricing</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
        <a href="
    ../../index.html" class="text-logo">linearmodels 2.0 (+64, gce5bead)</a>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../iv/index.html">Instrumental Variable Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../panel/index.html">Panel Data Model Estimation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linear Factor Models for Asset Pricing</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference.html">Module Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mathematical-formula.html">Formulas and Mathematical Detail</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../utility.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plan.html">Module Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">Change Log</a></li>
</ul>

    
  </div>
</div>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../../index.html">Docs</a></li>
              
                <li><a href="../index.html">Linear Factor Models for Asset Pricing</a></li>
              
              <li>Examples</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 9ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="section" id="Examples">
<h1>Examples<a class="headerlink" href="#Examples" title="Permalink to this headline">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">linearmodels.datasets</span> <span class="kn">import</span> <span class="n">french</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">french</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">french</span><span class="o">.</span><span class="n">DESCR</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

Data from Ken French&#39;s data library
http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html

dates    Year and Month of Return
MktRF    Market Factor
SMB      Size Factor
HML      Value Factor
Mom      Momentum Factor
RF       Risk-free rate
NoDur    Industry: Non-durables
Durbl    Industry: Durables
Manuf    Industry: Manufacturing
Enrgy    Industry: Energy
Chems    Industry: Chemicals
BusEq    Industry: Business Equipment
Telcm    Industry: Telecoms
Utils    Industry: Utilities
Shops    Industry: Retail
Hlth     Industry: Health care
Money    Industry: Finance
Other    Industry: Other
S1V1     Small firms, low value
S1V3     Small firms, medium value
S1V5     Small firms, high value
S3V1     Size 3, value 1
S3V3     Size 3, value 3
S3V5     Size 3, value 5
S5V1     Large firms, Low value
S5V3     Large firms, medium value
S5V5     Large Firms, High value
S1M1     Small firms, losers
S1M3     Small firms, neutral
S1M5     Small firms, winners
S3M1     Size 3, momentum 1
S3M3     Size 3, momentum 3
S3M5     Size 3, momentum 5
S5M1     Large firms, losers
S5M3     Large firms, neutral
S5M5     Large firms, winners

</pre></div></div>
</div>
<div class="section" id="1-Step-Estimation-using-Seemingly-Unrelated-Regression-(SUR)">
<h2>1-Step Estimation using Seemingly Unrelated Regression (SUR)<a class="headerlink" href="#1-Step-Estimation-using-Seemingly-Unrelated-Regression-(SUR)" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">TradedFactorModel</span>
<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;S1V1&#39;</span><span class="p">,</span><span class="s1">&#39;S1V3&#39;</span><span class="p">,</span><span class="s1">&#39;S1V5&#39;</span><span class="p">,</span><span class="s1">&#39;S3V1&#39;</span><span class="p">,</span><span class="s1">&#39;S3V3&#39;</span><span class="p">,</span><span class="s1">&#39;S3V5&#39;</span><span class="p">,</span><span class="s1">&#39;S5V1&#39;</span><span class="p">,</span><span class="s1">&#39;S5V3&#39;</span><span class="p">,</span><span class="s1">&#39;S5V5&#39;</span><span class="p">]]</span>
<span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;MktRF&#39;</span><span class="p">]]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">TradedFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      TradedFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.6870
No. Factors:                          1   J-statistic:                    435.49
No. Observations:                   819   P-value                         0.0000
Date:                  Wed, May 17 2017   Distribution:                  chi2(9)
Time:                          10:19:15
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0065     0.0015     4.3553     0.0000      0.0035      0.0094
==============================================================================

See full_summary for complete results
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;MktRF&#39;</span><span class="p">,</span> <span class="s1">&#39;SMB&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">]]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">TradedFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      TradedFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.8947
No. Factors:                          3   J-statistic:                    407.46
No. Observations:                   819   P-value                         0.0000
Date:                  Wed, May 17 2017   Distribution:                  chi2(9)
Time:                          10:19:16
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0065     0.0015     4.3553     0.0000      0.0035      0.0094
SMB            0.0016     0.0010     1.6021     0.1091     -0.0004      0.0035
HML            0.0035     0.0009     3.6993     0.0002      0.0016      0.0053
==============================================================================

See full_summary for complete results
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">indu</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;NoDur&#39;</span><span class="p">,</span> <span class="s1">&#39;Durbl&#39;</span><span class="p">,</span> <span class="s1">&#39;Manuf&#39;</span><span class="p">,</span> <span class="s1">&#39;Enrgy&#39;</span><span class="p">,</span> <span class="s1">&#39;Chems&#39;</span><span class="p">,</span> <span class="s1">&#39;BusEq&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Telcm&#39;</span><span class="p">,</span> <span class="s1">&#39;Utils&#39;</span><span class="p">,</span> <span class="s1">&#39;Shops&#39;</span><span class="p">,</span>  <span class="s1">&#39;Hlth&#39;</span><span class="p">,</span> <span class="s1">&#39;Money&#39;</span><span class="p">,</span>  <span class="s1">&#39;Other&#39;</span><span class="p">]</span>
<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">indu</span><span class="p">]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">TradedFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      TradedFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                 12   R-squared:                      0.7076
No. Factors:                          3   J-statistic:                    389.09
No. Observations:                   819   P-value                         0.0000
Date:                  Wed, May 17 2017   Distribution:                 chi2(12)
Time:                          10:19:16
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0065     0.0015     4.3553     0.0000      0.0035      0.0094
SMB            0.0016     0.0010     1.6021     0.1091     -0.0004      0.0035
HML            0.0035     0.0009     3.6993     0.0002      0.0016      0.0053
==============================================================================

See full_summary for complete results
</pre></div></div>
</div>
</div>
<div class="section" id="2-Step-Estimation">
<h2>2-Step Estimation<a class="headerlink" href="#2-Step-Estimation" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">LinearFactorModel</span>
<span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;MktRF&#39;</span><span class="p">,</span> <span class="s1">&#39;SMB&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">,</span> <span class="s1">&#39;Mom&#39;</span><span class="p">]]</span>
<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;S1M1&#39;</span><span class="p">,</span><span class="s1">&#39;S1M3&#39;</span><span class="p">,</span><span class="s1">&#39;S1M5&#39;</span><span class="p">,</span><span class="s1">&#39;S3M1&#39;</span><span class="p">,</span><span class="s1">&#39;S3M3&#39;</span><span class="p">,</span><span class="s1">&#39;S3M5&#39;</span><span class="p">,</span><span class="s1">&#39;S5M1&#39;</span><span class="p">,</span><span class="s1">&#39;S5M3&#39;</span><span class="p">,</span><span class="s1">&#39;S5M5&#39;</span><span class="p">]]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      LinearFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.9030
No. Factors:                          4   J-statistic:                    36.268
No. Observations:                   819   P-value                         0.0000
Date:                  Wed, May 17 2017   Distribution:                  chi2(5)
Time:                          10:19:16
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0102     0.0016     6.5569     0.0000      0.0071      0.0132
SMB         1.772e-05     0.0015     0.0120     0.9904     -0.0029      0.0029
HML            0.0105     0.0027     3.9453     0.0001      0.0053      0.0158
Mom            0.0086     0.0015     5.8478     0.0000      0.0057      0.0114
==============================================================================

See full_summary for complete results
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">LinearFactorModel</span>
<span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;MktRF&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">,</span> <span class="s1">&#39;Mom&#39;</span><span class="p">]]</span>
<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;S1M1&#39;</span><span class="p">,</span><span class="s1">&#39;S1M3&#39;</span><span class="p">,</span><span class="s1">&#39;S1M5&#39;</span><span class="p">,</span><span class="s1">&#39;S3M1&#39;</span><span class="p">,</span><span class="s1">&#39;S3M3&#39;</span><span class="p">,</span><span class="s1">&#39;S3M5&#39;</span><span class="p">,</span><span class="s1">&#39;S5M1&#39;</span><span class="p">,</span><span class="s1">&#39;S5M3&#39;</span><span class="p">,</span><span class="s1">&#39;S5M5&#39;</span><span class="p">]]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      LinearFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7887
No. Factors:                          3   J-statistic:                    36.323
No. Observations:                   819   P-value                         0.0000
Date:                  Wed, May 17 2017   Distribution:                  chi2(6)
Time:                          10:19:16
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0102     0.0017     6.0537     0.0000      0.0069      0.0135
HML            0.0106     0.0027     3.8706     0.0001      0.0052      0.0159
Mom            0.0086     0.0015     5.8599     0.0000      0.0057      0.0114
==============================================================================

See full_summary for complete results
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">LinearFactorModel</span>
<span class="n">factors</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;MktRF&#39;</span><span class="p">,</span> <span class="s1">&#39;HML&#39;</span><span class="p">,</span> <span class="s1">&#39;Mom&#39;</span><span class="p">]]</span>
<span class="n">portfolios</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;S1M1&#39;</span><span class="p">,</span><span class="s1">&#39;S1M3&#39;</span><span class="p">,</span><span class="s1">&#39;S1M5&#39;</span><span class="p">,</span><span class="s1">&#39;S3M1&#39;</span><span class="p">,</span><span class="s1">&#39;S3M3&#39;</span><span class="p">,</span><span class="s1">&#39;S3M5&#39;</span><span class="p">,</span><span class="s1">&#39;S5M1&#39;</span><span class="p">,</span><span class="s1">&#39;S5M3&#39;</span><span class="p">,</span><span class="s1">&#39;S5M5&#39;</span><span class="p">]]</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">,</span> <span class="n">risk_free</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      LinearFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7887
No. Factors:                          3   J-statistic:                    36.033
No. Observations:                   819   P-value                         0.0000
Date:                  Wed, May 17 2017   Distribution:                  chi2(6)
Time:                          10:19:16
Cov. Estimator:                  robust

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
risk_free     -0.0010     0.0079    -0.1323     0.8947     -0.0166      0.0145
MktRF          0.0111     0.0076     1.4636     0.1433     -0.0038      0.0259
HML            0.0110     0.0053     2.0946     0.0362      0.0007      0.0214
Mom            0.0086     0.0014     5.9315     0.0000      0.0058      0.0114
==============================================================================

See full_summary for complete results
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModel</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;kernel&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                      LinearFactorModel Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7887
No. Factors:                          3   J-statistic:                    27.427
No. Observations:                   819   P-value                         0.0001
Date:                  Wed, May 17 2017   Distribution:                  chi2(6)
Time:                          10:19:16
Cov. Estimator:                  kernel

                            Risk Premia Estimates
==============================================================================
            Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
------------------------------------------------------------------------------
MktRF          0.0102     0.0017     6.0631     0.0000      0.0069      0.0135
HML            0.0106     0.0031     3.3859     0.0007      0.0045      0.0167
Mom            0.0086     0.0014     5.9641     0.0000      0.0057      0.0114
==============================================================================

See full_summary for complete results
</pre></div></div>
</div>
</div>
<div class="section" id="GMM-Estimation">
<h2>GMM Estimation<a class="headerlink" href="#GMM-Estimation" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">linearmodels.asset_pricing</span> <span class="kn">import</span> <span class="n">LinearFactorModelGMM</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">LinearFactorModelGMM</span><span class="p">(</span><span class="n">portfolios</span><span class="p">,</span> <span class="n">factors</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Iteration: 0, Objective: 46.814972837513864
Iteration: 10, Objective: 25.069498434377124
Iteration: 20, Objective: 23.5629330894645
Iteration: 30, Objective: 23.105647951077973
Iteration: 40, Objective: 18.895163762571197
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 18.895164
         Iterations: 41
         Function evaluations: 2112
         Gradient evaluations: 60
Iteration: 0, Objective: 19.38083633464629
Iteration: 10, Objective: 19.236707241236378
Iteration: 20, Objective: 19.16760950490105
Iteration: 30, Objective: 19.130812447515893
Iteration: 40, Objective: 18.993888203171885
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 18.993888
         Iterations: 50
         Function evaluations: 3088
         Gradient evaluations: 88
                    LinearFactorModelGMM Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7877
No. Factors:                          3   J-statistic:                    18.994
No. Observations:                   819   P-value                         0.0252
Date:                  Wed, May 17 2017   Distribution:                  chi2(9)
Time:                          10:19:19
Cov. Estimator:                  robust

                             Risk Premia Estimates
================================================================================
              Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
--------------------------------------------------------------------------------
lambda-MktRF     0.0098     0.0015     6.4321     0.0000      0.0068      0.0128
lambda-HML       0.0151     0.0024     6.2762     0.0000      0.0104      0.0198
lambda-Mom       0.0095     0.0015     6.5187     0.0000      0.0066      0.0123
================================================================================

See full_summary for complete results
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;kernel&#39;</span><span class="p">,</span> <span class="n">kernel</span><span class="o">=</span><span class="s1">&#39;bartlett&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Iteration: 0, Objective: 72.41435692747842
Iteration: 10, Objective: 39.55507706803363
Iteration: 20, Objective: 33.44894215448041
Iteration: 30, Objective: 30.060105881118425
Iteration: 40, Objective: 12.668132969627544
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 12.668133
         Iterations: 41
         Function evaluations: 2217
         Gradient evaluations: 63
Iteration: 0, Objective: 14.87720174133658
Iteration: 10, Objective: 14.190546941227101
Iteration: 20, Objective: 14.048759330635248
Iteration: 30, Objective: 14.002301566222025
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 13.321845
         Iterations: 38
         Function evaluations: 1867
         Gradient evaluations: 53
                    LinearFactorModelGMM Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7878
No. Factors:                          3   J-statistic:                    13.322
No. Observations:                   819   P-value                         0.1486
Date:                  Wed, May 17 2017   Distribution:                  chi2(9)
Time:                          10:19:22
Cov. Estimator:                  kernel

                             Risk Premia Estimates
================================================================================
              Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
--------------------------------------------------------------------------------
lambda-MktRF     0.0097     0.0014     6.9095     0.0000      0.0070      0.0125
lambda-HML       0.0154     0.0031     4.9357     0.0000      0.0093      0.0215
lambda-Mom       0.0080     0.0013     6.1501     0.0000      0.0055      0.0106
================================================================================

See full_summary for complete results
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">use_cue</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Iteration: 0, Objective: 46.814972837513864
Iteration: 10, Objective: 25.069498434377124
Iteration: 20, Objective: 23.5629330894645
Iteration: 30, Objective: 23.105647951077973
Iteration: 40, Objective: 18.895163762571197
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 18.895164
         Iterations: 41
         Function evaluations: 2112
         Gradient evaluations: 60
Iteration: 0, Objective: 19.38078639630845
Iteration: 10, Objective: 19.218403945492145
Iteration: 20, Objective: 19.153515748026308
Iteration: 30, Objective: 19.13893916764765
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 19.008441
         Iterations: 40
         Function evaluations: 2252
         Gradient evaluations: 64
                    LinearFactorModelGMM Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7877
No. Factors:                          3   J-statistic:                    19.220
No. Observations:                   819   P-value                         0.0234
Date:                  Wed, May 17 2017   Distribution:                  chi2(9)
Time:                          10:19:27
Cov. Estimator:                  robust

                             Risk Premia Estimates
================================================================================
              Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
--------------------------------------------------------------------------------
lambda-MktRF     0.0098     0.0015     6.4428     0.0000      0.0068      0.0128
lambda-HML       0.0151     0.0024     6.2784     0.0000      0.0104      0.0198
lambda-Mom       0.0095     0.0015     6.5157     0.0000      0.0066      0.0123
================================================================================

See full_summary for complete results
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Iteration: 0, Objective: 46.814972837513864
Iteration: 25, Objective: 23.452613890319533
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 18.895164
         Iterations: 41
         Function evaluations: 2112
         Gradient evaluations: 60
Iteration: 0, Objective: 19.38083633464629
Iteration: 25, Objective: 19.163631089299756
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 18.993888
         Iterations: 50
         Function evaluations: 3088
         Gradient evaluations: 88
Iteration: 0, Objective: 19.01683724806896
Iteration: 25, Objective: 19.014586080786525
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 19.013217
         Iterations: 37
         Function evaluations: 2847
         Gradient evaluations: 81
Iteration: 0, Objective: 19.012704816195523
Iteration: 25, Objective: 19.012680133809155
Optimization terminated successfully.
         Current function value: 19.012663
         Iterations: 37
         Function evaluations: 1680
         Gradient evaluations: 48
Iteration: 0, Objective: 19.012702093288286
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 19.012702
         Iterations: 7
         Function evaluations: 606
         Gradient evaluations: 17
Iteration: 0, Objective: 19.012701429954713
Warning: Desired error not necessarily achieved due to precision loss.
         Current function value: 19.012701
         Iterations: 4
         Function evaluations: 397
         Gradient evaluations: 11
                    LinearFactorModelGMM Estimation Summary
================================================================================
No. Test Portfolios:                  9   R-squared:                      0.7877
No. Factors:                          3   J-statistic:                    19.013
No. Observations:                   819   P-value                         0.0251
Date:                  Wed, May 17 2017   Distribution:                  chi2(9)
Time:                          10:19:34
Cov. Estimator:                  robust

                             Risk Premia Estimates
================================================================================
              Parameter  Std. Err.     T-stat    P-value    Lower CI    Upper CI
--------------------------------------------------------------------------------
lambda-MktRF     0.0098     0.0015     6.4337     0.0000      0.0068      0.0128
lambda-HML       0.0151     0.0024     6.2783     0.0000      0.0104      0.0198
lambda-Mom       0.0095     0.0015     6.5066     0.0000      0.0066      0.0123
================================================================================

See full_summary for complete results
</pre></div></div>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="../index.html" title="previous chapter (use the left arrow)">Linear Factor Models for Asset Pricing</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="../reference.html" title="next chapter (use the right arrow)">Module Reference</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../reference.html" title="Module Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Linear Factor Models for Asset Pricing"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">linearmodels 2.0+64.gce5bead documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Linear Factor Models for Asset Pricing</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2017, Kevin Sheppard. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>